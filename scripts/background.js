"use strict";var commentState="",enableComments=function(){if(null==document.getElementById("extension")){var e=document.createElement("link");e.href=chrome.extension.getURL("/styles/comment_on.css"),e.id="extension",e.type="text/css",e.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(e)}},disableComments=function(){document.getElementById("extension")&&document.getElementsByTagName("head")[0].removeChild(document.getElementById("extension"))},stateCommentToggle=function(e){document.getElementById("extension")||1===commentState?(saveStatus(0),commentState=0,chrome.tabs.executeScript(e,{code:"("+disableComments.toString()+")();"})):(saveStatus(1),commentState=1,chrome.tabs.executeScript(e,{code:"("+enableComments.toString()+")();"}))};chrome.tabs.onUpdated.addListener(function(e,t,o){var n=loadException().items;commentState=0;var l=loadStatus();if("complete"===t.status&&o.url.indexOf("vk.com/")>-1&&1==l&&(commentState=1,chrome.tabs.executeScript(e,{code:"("+enableComments.toString()+")();"})),"complete"===t.status&&o.url.indexOf("vk.com/")>-1&&0!==n.length&&1!=l){chrome.tabs.executeScript(e,{code:"("+disableComments.toString()+")();"});for(var i=0;i<n.length;i++)if(o.url.indexOf(n[i].url)>-1){commentState=1,chrome.tabs.executeScript(e,{code:"("+enableComments.toString()+")();"});break}}});
