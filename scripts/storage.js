"use strict";var loadException=function(){return JSON.parse(localStorage.vkCommentBlocker?localStorage.vkCommentBlocker:'{"items":[]}')},viewException=function(e){for(var t=document.createElement("tbody"),o=0;o<e.items.length;o++){var n=e.items[o],l=t.insertRow(0);l.insertCell(0).innerHTML=o+1,l.insertCell(1).innerHTML=n.title,l.insertCell(2).innerHTML=n.url,l.insertCell(3).innerHTML='<button type="button" class="btn btn-remove" data-tools="remove" data-id='+(o+1)+">"+chrome.i18n.getMessage("exception_remove")+"</button>",t.appendChild(l)}return t},saveException=function(e,t){if(localStorage.vkCommentBlocker)for(var o=loadException(),n=0;n<o.items.length;n++){var l=o.items[n].url;if(l.indexOf(t)>-1)return!0}else o=JSON.parse('{"items":[]}');o.items.push({title:e,url:t}),localStorage.vkCommentBlocker=JSON.stringify(o)},saveListException=function(e){var t=new FileReader;t.onload=function(e){var o;o=t.result,localStorage.vkCommentBlocker=o},t.readAsText(e)},removeException=function(e){var t=loadException();t.items.splice(e,1),0===t.items.length?localStorage.clear():localStorage.vkCommentBlocker=JSON.stringify(t)},loadStatus=function(){return localStorage.vkCommentBlocker_state},saveStatus=function(e){localStorage.vkCommentBlocker_state=e};
