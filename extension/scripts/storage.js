var loadException,removeException,saveException,saveListException,viewException;loadException=function(){return JSON.parse(localStorage.vkCommentBlocker?localStorage.vkCommentBlocker:'{"items":[]}')},viewException=function(e){var t,n,o,i,r,l;for(i=document.createElement("tbody"),t=r=0,l=e.items.length;l>=0?l>r:r>l;t=l>=0?++r:--r)n=e.items[t],o=i.insertRow(0),o.insertCell(0).innerHTML=t+1,o.insertCell(1).innerHTML=n.title,o.insertCell(2).innerHTML=n.url,o.insertCell(3).innerHTML='<button type="button" class="btn btn-remove" data-tools="remove" data-id='+(t+1)+">"+chrome.i18n.getMessage("exception_remove")+"</button>",i.appendChild(o);return i},saveException=function(e,t){var n,o,i,r,l;if(localStorage.vkCommentBlocker){for(n=loadException(),i=r=0,l=n.items.length;l>=0?l>r:r>l;i=l>=0?++r:--r)if(o=n.items[i].url,o.indexOf(t)>-1)return!0}else n=JSON.parse('{"items":[]}');n.items.push({title:e,url:t}),localStorage.vkCommentBlocker=JSON.stringify(n)},saveListException=function(e){var t;t=new FileReader,t.onload=function(){var e;e=t.result,localStorage.vkCommentBlocker=e},t.readAsText(e)},removeException=function(e){var t;t=loadException(),t.items.splice(e,1),0===t.items.length?localStorage.clear():localStorage.vkCommentBlocker=JSON.stringify(t)};